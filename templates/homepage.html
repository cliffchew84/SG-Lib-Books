{% include 'header.html' %}
{% include 'navbar.html' %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div class="pt-4 mt-2 pb-3 px-10 sm:px-20 xl:px-40">
    <div class="text-gray-700">
        <p class="text-xl">A library-centric view of your favourite Singapore library books!</p>
        <div class='md:flex text-base py-3 space-x-1'>
            <div>
                <p>Want an easy way to view all the Singapore library books you saved to know which libraries to find
                    them? Using some open-source tools and the <a class="font-semibold italic underline" target="_blank"
                        href="https://www.nlb.gov.sg/main/partner-us/contribute-and-create-with-us/NLBLabs">official NLB
                        APIs</a> <span class="font-bold">(as of 14-08-2023)</span>, I built this website to solve
                    this user experience for myself. Now, I hope to release this web app to the public to see if it can
                    benefit more people. I aim to keep this service free, and you don't need to provide any personal
                    data to set up an account to start saving books here. I hope to provide a better user
                    experience to encourage people to borrow and read our physical Singapore library books. If you face
                    any issues with the site, drop me an email at <span
                        class="font-semibold italic">sglibreads@gmail.com</span>. This website is best viewed on
                    desktop, but is also usable on mobile devices. You can read my story to building this website on my
                    <a class="font-semibold italic underline" target="_blank"
                        href="https://medium.com/@cliffy-gardens/my-singapore-library-app-is-live-b63fc9f5ae9a">Medium</a>,
                    and connect with me professionally at <a class="fa fa-linkedin-square" target="_blank"
                        style="font-size:24px" href="https://www.linkedin.com/in/cliff-chew-kt/"></a>
                </p>
            </div>
        </div>
    </div>
    <div class="flex flex-col md:flex-row items-center justify-center md:space-x-16">
        <div class="w-full md:w-5/6 lg:w-1/2 md:pb-2 md:pt-2 py-4 px-6 border-4 rounded-lg">
            <form action="/login" method="POST">
                <div class="mb-3 items-center justify-center">
                    <label for="username" class="mx-3 form-label">Username</label>
                    <input type="text"
                        class="flex mt-2 py-2 mx-3 w-11/12 md:text-base text-sm form-control rounded-lg border-2 border-blue-800"
                        id='username' name='username' required>
                </div>
                <label for="password" class="mx-3 form-label">Password</label>

                <div class="relative w-full">

                    <!-- Password show and hide button -->
                    <div class="absolute inset-y-0 right-0 flex items-center px-4 xs:px-4 sm:px-4 xl:px-8">
                        <input class="hidden js-password-toggle" id="login-toggle" type="checkbox" />
                        <label class="bg-gray-300 hover:bg-gray-400 rounded-lg px-3 py-2 
                            text-xs text-gray-600 font-semibold cursor-pointer js-password-label"
                            for="login-toggle">show</label>
                    </div>
                    <!-- Password show and hide button -->

                    <input type="password" class="flex mt-2 py-2 mx-3 w-11/12 md:text-base text-sm form-control 
                        rounded-lg border-2 border-sky-800 js-password" id='password' name='password' required />
                </div>

                <button type="submit"
                    class="bg-sky-700 text-white border-white rounded-lg py-1.5 mt-4 px-3 mx-3">Login</button>
            </form>

            {% if login_invalid %}
            <p class="text-red-700 bg-gray-200 mt-2 p-3 rounded-lg font-semibold">
                Login failed. You might have used the wrong username,
                password, or have not registered an account.
            </p>
            {% endif %}
        </div>

        <div class="w-full md:w-5/6 lg:w-1/2 py-4 px-6 border-4 rounded-lg">
            <form action="/" method="POST">
                <div class="mb-3">
                    <label for="username" class="form-label mx-3">Username</label>
                    <input type="text"
                        class="flex mt-2 py-2 mx-3 w-11/12 md:text-base text-sm form-control rounded-lg border-2 border-blue-800"
                        id='username' name='username' required>
                </div>
                <label for="password" class="form-label mx-3">Password</label>

                <div class="relative w-full">

                    <!-- Adding password hide and show button -->
                    <div class="absolute inset-y-0 right-0 flex items-center px-4 xs:px-4 sm:px-4 xl:px-8">
                        <input class="hidden js-password-toggle_2" id="register-toggle" type="checkbox" />
                        <label class="bg-gray-300 hover:bg-gray-400 rounded-lg px-3 py-2 
                            text-xs font-semibold text-gray-600 cursor-pointer js-password-label_2"
                            for="register-toggle">show</label>
                    </div>
                    <!-- Adding password hide and show button -->

                    <input type="password" class="flex mt-2 py-2 mx-3 w-11/12 md:text-base text-sm form-control 
                        rounded-lg border-2 border-sky-800 js-password_2" id='password' name='password' required>
                </div>
                <button type="submit"
                    class="bg-red-400 text-white border-white rounded-lg py-1.5 mt-4 px-3 mx-3">Register</button>
            </form>
            {% if register_invalid %}

            <p class="text-red-500 bg-gray-200 mt-2 p-3 rounded-lg font-semibold">
                Account already registered. Please login or contact us if you
                have forgotten your password.
            </p>
            {% endif %}
        </div>
    </div>
</div>

<script>
    const passwordToggle = document.querySelector('.js-password-toggle')

    passwordToggle.addEventListener('change', function () {
        const password = document.querySelector('.js-password'),
            passwordLabel = document.querySelector('.js-password-label')

        if (password.type === 'password') {
            password.type = 'text'
            passwordLabel.innerHTML = 'hide'
        } else {
            password.type = 'password'
            passwordLabel.innerHTML = 'show'
        }

        password.focus()
    })

    const passwordToggle2 = document.querySelector('.js-password-toggle_2')

    passwordToggle2.addEventListener('change', function () {
        const password = document.querySelector('.js-password_2'),
            passwordLabel = document.querySelector('.js-password-label_2')

        if (password.type === 'password') {
            password.type = 'text'
            passwordLabel.innerHTML = 'hide'
        } else {
            password.type = 'password'
            passwordLabel.innerHTML = 'show'
        }

        password.focus()
    })
</script>

{% include 'footer.html' %}
